!function t(e,i,s){function r(o,a){if(!i[o]){if(!e[o]){var n="function"==typeof require&&require;if(!a&&n)return n(o,!0);if(h)return h(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return r(i?i:t)},c,c.exports,t,e,i,s)}return i[o].exports}for(var h="function"==typeof require&&require,o=0;o<s.length;o++)r(s[o]);return r}({1:[function(t,e,i){"use strict";var s=t("./scene/stage"),r=function(t){this.surface=t.getContext("2d"),this.width=Number(t.getAttribute("width")),this.height=Number(t.getAttribute("height")),this.scene=new s(this),this.images={},this.loadedImageNum=0,this.is_load_done=!1,this.frame_count=0};r.prototype.IMAGES={boss:"img/enemy.png",bullet:"img/bullet.png"},r.prototype.init=function(){var t=this,e=function(){t.loadedImageNum++;var e=Object.keys(t.IMAGES).length,i=t.loadedImageNum;i>=e&&(t.is_load_done=!0)};for(var i in t.IMAGES)t.images[i]=new Image,t.images[i].src=t.IMAGES[i],t.images[i].onload=e},r.prototype.run=function(){requestAnimationFrame(this.run.bind(this)),this.is_load_done&&(this.scene.run(),this.scene.updateDisplay(),this.frame_count++)},e.exports=r},{"./scene/stage":6}],2:[function(t,e,i){"use strict";var s=t("./game");window.onload=function(){var t=document.getElementById("mainCanvas"),e=new s(t);e.init(),e.run()}},{"./game":1}],3:[function(t,e,i){"use strict";var s=t("../object/bullet"),r=function(t,e){this.game=e,this.scene=t,this.objects=[]};r.prototype.run=function(){for(var t=0,e=this.objects.length;t<e;t++)this.objects[t].run();this.removeOutOfStageObjects()},r.prototype.updateDisplay=function(){for(var t=0,e=this.objects.length;t<e;t++)this.objects[t].updateDisplay()},r.prototype.create=function(t,e,i,r,h,o){this.objects.push(new s(this.game,t,e,i,r,h,o))},r.prototype.remove=function(t){this.objects.splice(t,1)},r.prototype.removeOutOfStageObjects=function(){for(var t=0;t<this.objects.length;t++)this.scene.isOutOfStage(this.objects[t])&&this.remove(t)},e.exports=r},{"../object/bullet":5}],4:[function(t,e,i){"use strict";var s=function(t,e){this.scene=t,this.game=e,this.frame_count=0,this.shot_theta=90,this.add_shot_theta=15,this.maru_shot_theta=0};s.prototype.image=function(){return this.game.images.boss},s.prototype.image_width=function(){return.1*this.image().width},s.prototype.image_height=function(){return.1*this.image().height},s.prototype.uzumaki_shot=function(){var t=this.game.width/2,e=this.game.height/2,i=this.shot_theta,s=1;this.scene.bulletmanager.create(t,e,s,i,9,4)},s.prototype.maru_shot=function(t){var e=this.game.width/2,i=this.game.height/2,s=this.maru_shot_theta,r=t;this.scene.bulletmanager.create(e,i,r,s,7,3)},s.prototype.run=function(){this.frame_count%25===0&&(this.shot_theta+=this.add_shot_theta,this.maru_shot_theta+=this.add_shot_theta);for(var t=0;t<2;t++)this.uzumaki_shot(),this.shot_theta+=3;if(this.frame_count%50===0)for(t=0;t<18;t++)this.maru_shot(2),this.maru_shot(2.5),this.maru_shot(3),this.maru_shot_theta+=this.add_shot_theta;this.frame_count++},s.prototype.updateDisplay=function(){var t=this.get_coordinate_of_center();this.game.surface.save(),this.game.surface.drawImage(this.image(),t.width,t.height,this.image_width(),this.image_height()),this.game.surface.restore()},s.prototype.get_coordinate_of_center=function(){var t=(this.game.width-this.image_width())/2,e=(this.game.height-this.image_height())/2;return{width:t,height:e}},e.exports=s},{}],5:[function(t,e,i){"use strict";var s=function(t,e,i,s,r,h,o){this.game=t,this.x=e,this.y=i,this.r=s,this.theta=r,this.sprite_x=h||0,this.sprite_y=o||0};s.prototype.run=function(){this.x+=this.calc_moveX(),this.y+=this.calc_moveY()},s.prototype.updateDisplay=function(){this.game.surface.save(),this.game.surface.translate(this.x,this.y),this.game.surface.rotate(this._theta_to_radian(this.theta+90)),this.game.surface.drawImage(this.image(),this.spriteWidth()*this.spriteX(),this.spriteHeight()*this.spriteY(),this.spriteWidth(),this.spriteHeight(),-this.spriteWidth()/2,-this.spriteHeight()/2,this.imageWidth(),this.imageHeight()),this.game.surface.restore()},s.prototype.image=function(){return this.game.images.bullet},s.prototype.rx=function(){return this.x-this.spriteWidth()},s.prototype.ry=function(){return this.y-this.spriteHeight()},s.prototype.imageWidth=function(){return 12},s.prototype.imageHeight=function(){return 12},s.prototype.spriteWidth=function(){return 16},s.prototype.spriteHeight=function(){return 16},s.prototype.spriteX=function(){return this.sprite_x},s.prototype.spriteY=function(){return this.sprite_y},s.prototype._theta_to_radian=function(t){var e=t/180*Math.PI;return e},s.prototype._radian_to_theta=function(t){return 180*t/Math.PI|0},s.prototype.calc_moveX=function(){var t=this.r*Math.cos(this._theta_to_radian(this.theta));return t},s.prototype.calc_moveY=function(){var t=this.r*Math.sin(this._theta_to_radian(this.theta));return t},e.exports=s},{}],6:[function(t,e,i){"use strict";var s=t("../object/boss"),r=t("../manager/bullet"),h=function(t){this.game=t,this.boss=new s(this,t),this.bulletmanager=new r(this,t)};h.prototype.EXTRA_OUT_OF_STAGE_SIZE=100,h.prototype.run=function(){this.boss.run(),this.bulletmanager.run()},h.prototype.updateDisplay=function(){this._showBackground(),this.boss.updateDisplay(),this.bulletmanager.updateDisplay()},h.prototype._showBackground=function(){this.game.surface.save(),this.game.surface.fillStyle="rgb(0, 0, 0)",this.game.surface.fillRect(0,0,this.game.width,this.game.height),this.game.surface.restore()},h.prototype.isOutOfStage=function(t){var e=t.x,i=t.y;return e+this.EXTRA_OUT_OF_STAGE_SIZE<0||i+this.EXTRA_OUT_OF_STAGE_SIZE<0||e>this.game.width+this.EXTRA_OUT_OF_STAGE_SIZE||i>this.game.height+this.EXTRA_OUT_OF_STAGE_SIZE},e.exports=h},{"../manager/bullet":3,"../object/boss":4}]},{},[2]);