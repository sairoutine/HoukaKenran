!function t(e,i,s){function h(o,r){if(!i[o]){if(!e[o]){var n="function"==typeof require&&require;if(!r&&n)return n(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return h(i?i:t)},c,c.exports,t,e,i,s)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<s.length;o++)h(s[o]);return h}({1:[function(t,e,i){var s=function(){function t(t){return h.appendChild(t.dom),t}function e(t){for(var e=0;e<h.children.length;e++)h.children[e].style.display=e===t?"block":"none";i=t}var i=0,h=document.createElement("div");h.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",h.addEventListener("click",function(t){t.preventDefault(),e(++i%h.children.length)},!1);var a=(self.performance||Date).now(),o=a,r=0,n=t(new s.Panel("FPS","#0ff","#002")),u=t(new s.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=t(new s.Panel("MB","#f08","#201"));return e(0),{REVISION:16,dom:h,addPanel:t,showPanel:e,begin:function(){a=(self.performance||Date).now()},end:function(){r++;var t=(self.performance||Date).now();if(u.update(t-a,200),t>o+1e3&&(n.update(1e3*r/(t-o),100),o=t,r=0,c)){var e=self.performance.memory;c.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){a=this.end()},domElement:h,setMode:e}};s.Panel=function(t,e,i){var s=1/0,h=0,a=Math.round,o=a(window.devicePixelRatio||1),r=80*o,n=48*o,u=3*o,c=2*o,m=3*o,p=15*o,g=74*o,l=30*o,f=document.createElement("canvas");f.width=r,f.height=n,f.style.cssText="width:80px;height:48px";var _=f.getContext("2d");return _.font="bold "+9*o+"px Helvetica,Arial,sans-serif",_.textBaseline="top",_.fillStyle=i,_.fillRect(0,0,r,n),_.fillStyle=e,_.fillText(t,u,c),_.fillRect(m,p,g,l),_.fillStyle=i,_.globalAlpha=.9,_.fillRect(m,p,g,l),{dom:f,update:function(n,d){s=Math.min(s,n),h=Math.max(h,n),_.fillStyle=i,_.globalAlpha=1,_.fillRect(0,0,r,p),_.fillStyle=e,_.fillText(a(n)+" "+t+" ("+a(s)+"-"+a(h)+")",u,c),_.drawImage(f,m+o,p,g-o,l,m,p,g-o,l),_.fillRect(m+g-o,p,o,l),_.fillStyle=i,_.globalAlpha=.9,_.fillRect(m+g-o,p,o,a((1-n/d)*l))}}},"object"==typeof e&&(e.exports=s)},{}],2:[function(t,e,i){"use strict";var s=t("./scene/stage"),h=t("stats.js"),a=function(t){this.stats=new h,this.stats.showPanel(0),document.body.appendChild(this.stats.dom),this.surface=t.getContext("2d"),this.width=Number(t.getAttribute("width")),this.height=Number(t.getAttribute("height")),this.scene=new s(this),this.images={},this.loadedImageNum=0,this.is_load_done=!1,this.frame_count=0};a.prototype.IMAGES={boss:"img/boss.jpg",bullet:"img/bullet.png"},a.prototype.init=function(){var t=this,e=function(){t.loadedImageNum++;var e=Object.keys(t.IMAGES).length,i=t.loadedImageNum;i>=e&&(t.is_load_done=!0)};for(var i in t.IMAGES)t.images[i]=new Image,t.images[i].src=t.IMAGES[i],t.images[i].onload=e},a.prototype.run=function(){requestAnimationFrame(this.run.bind(this)),this.stats.begin(),this.is_load_done&&(this.scene.run(),this.scene.updateDisplay(),this.frame_count++,this.stats.end())},e.exports=a},{"./scene/stage":7,"stats.js":1}],3:[function(t,e,i){"use strict";var s=t("./game");window.onload=function(){var t=document.getElementById("mainCanvas"),e=new s(t);e.init(),e.run()}},{"./game":2}],4:[function(t,e,i){"use strict";var s=t("../object/bullet"),h=function(t,e){this.game=e,this.scene=t,this.objects=[]};h.prototype.run=function(){for(var t=0,e=this.objects.length;t<e;t++)this.objects[t].run();this.removeOutOfStageObjects()},h.prototype.updateDisplay=function(){for(var t=0,e=this.objects.length;t<e;t++)this.objects[t].updateDisplay()},h.prototype.create=function(t,e,i,h,a,o){this.objects.push(new s(this.game,t,e,i,h,a,o))},h.prototype.remove=function(t){this.objects.splice(t,1)},h.prototype.removeOutOfStageObjects=function(){for(var t=0;t<this.objects.length;t++)this.scene.isOutOfStage(this.objects[t])&&this.remove(t)},e.exports=h},{"../object/bullet":6}],5:[function(t,e,i){"use strict";var s=function(t,e){this.scene=t,this.game=e,this.frame_count=0,this.shot_theta1=0,this.shot_theta2=0,this.shot_theta3=60,this.shot_theta4=60,this.shot_theta5=120,this.shot_theta6=120,this.shot_theta7=180,this.shot_theta8=180,this.shot_theta9=240,this.shot_theta10=240,this.shot_theta11=300,this.shot_theta12=300,this.maru_shot_theta=0};s.prototype.image=function(){return this.game.images.boss},s.prototype.image_width=function(){return.05*this.image().width},s.prototype.image_height=function(){return.05*this.image().height},s.prototype.uzumaki_shot1=function(){var t=this.game.width/2,e=this.game.height/2,i=this.shot_theta1,s=1.5;this.scene.bulletmanager.create(t,e,s,i,13,4),this.shot_theta1+=10},s.prototype.uzumaki_shot2=function(){var t=this.game.width/2,e=this.game.height/2,i=this.shot_theta2,s=1.5;this.scene.bulletmanager.create(t,e,s,i,13,4),this.shot_theta2-=10},s.prototype.uzumaki_shot3=function(){var t=this.game.width/2,e=this.game.height/2,i=this.shot_theta3,s=1.5;this.scene.bulletmanager.create(t,e,s,i,13,4),this.shot_theta3+=10},s.prototype.uzumaki_shot4=function(){var t=this.game.width/2,e=this.game.height/2,i=this.shot_theta4,s=1.5;this.scene.bulletmanager.create(t,e,s,i,13,4),this.shot_theta4-=10},s.prototype.uzumaki_shot5=function(){var t=this.game.width/2,e=this.game.height/2,i=this.shot_theta5,s=1.5;this.scene.bulletmanager.create(t,e,s,i,13,4),this.shot_theta5+=10},s.prototype.uzumaki_shot6=function(){var t=this.game.width/2,e=this.game.height/2,i=this.shot_theta6,s=1.5;this.scene.bulletmanager.create(t,e,s,i,13,4),this.shot_theta6-=10},s.prototype.uzumaki_shot7=function(){var t=this.game.width/2,e=this.game.height/2,i=this.shot_theta7,s=1.5;this.scene.bulletmanager.create(t,e,s,i,13,4),this.shot_theta7+=10},s.prototype.uzumaki_shot8=function(){var t=this.game.width/2,e=this.game.height/2,i=this.shot_theta8,s=1.5;this.scene.bulletmanager.create(t,e,s,i,13,4),this.shot_theta8-=10},s.prototype.uzumaki_shot9=function(){var t=this.game.width/2,e=this.game.height/2,i=this.shot_theta9,s=1.5;this.scene.bulletmanager.create(t,e,s,i,13,4),this.shot_theta9+=10},s.prototype.uzumaki_shot10=function(){var t=this.game.width/2,e=this.game.height/2,i=this.shot_theta10,s=1.5;this.scene.bulletmanager.create(t,e,s,i,13,4),this.shot_theta10-=10},s.prototype.uzumaki_shot11=function(){var t=this.game.width/2,e=this.game.height/2,i=this.shot_theta3,s=1.5;this.scene.bulletmanager.create(t,e,s,i,13,4),this.shot_theta11+=10},s.prototype.uzumaki_shot12=function(){var t=this.game.width/2,e=this.game.height/2,i=this.shot_theta12,s=1.5;this.scene.bulletmanager.create(t,e,s,i,13,4),this.shot_theta12-=10},s.prototype.maru_shot=function(){var t=this.game.width/2,e=this.game.height/2,i=this.maru_shot_theta,s=2;this.scene.bulletmanager.create(t,e,s,i,2,4)},s.prototype.run=function(){if(this.frame_count%5===0&&(this.uzumaki_shot1(),this.uzumaki_shot2(),this.uzumaki_shot3(),this.uzumaki_shot4(),this.uzumaki_shot5(),this.uzumaki_shot6(),this.uzumaki_shot7(),this.uzumaki_shot8(),this.uzumaki_shot9(),this.uzumaki_shot10(),this.uzumaki_shot11(),this.uzumaki_shot12()),this.frame_count%75===0)for(var t=0;t<36;t++)this.maru_shot(2),this.maru_shot_theta+=10;this.frame_count++},s.prototype.updateDisplay=function(){var t=this.get_coordinate_of_center();this.game.surface.save(),this.game.surface.drawImage(this.image(),t.width,t.height,this.image_width(),this.image_height()),this.game.surface.restore()},s.prototype.get_coordinate_of_center=function(){var t=(this.game.width-this.image_width())/2,e=(this.game.height-this.image_height())/2;return{width:t,height:e}},e.exports=s},{}],6:[function(t,e,i){"use strict";var s=function(t,e,i,s,h,a,o){this.game=t,this.x=e,this.y=i,this.r=s,this.theta=h,this.sprite_x=a||0,this.sprite_y=o||0};s.prototype.run=function(){this.x+=this.calc_moveX(),this.y+=this.calc_moveY()},s.prototype.updateDisplay=function(){this.game.surface.save(),this.game.surface.translate(this.x,this.y),this.game.surface.rotate(this._theta_to_radian(this.theta+90)),this.game.surface.drawImage(this.image(),this.spriteWidth()*this.spriteX(),this.spriteHeight()*this.spriteY(),this.spriteWidth(),this.spriteHeight(),-this.spriteWidth()/2,-this.spriteHeight()/2,this.imageWidth(),this.imageHeight()),this.game.surface.restore()},s.prototype.image=function(){return this.game.images.bullet},s.prototype.rx=function(){return this.x-this.spriteWidth()},s.prototype.ry=function(){return this.y-this.spriteHeight()},s.prototype.imageWidth=function(){return 12},s.prototype.imageHeight=function(){return 12},s.prototype.spriteWidth=function(){return 16},s.prototype.spriteHeight=function(){return 16},s.prototype.spriteX=function(){return this.sprite_x},s.prototype.spriteY=function(){return this.sprite_y},s.prototype._theta_to_radian=function(t){var e=t/180*Math.PI;return e},s.prototype._radian_to_theta=function(t){return 180*t/Math.PI|0},s.prototype.calc_moveX=function(){var t=this.r*Math.cos(this._theta_to_radian(this.theta));return t},s.prototype.calc_moveY=function(){var t=this.r*Math.sin(this._theta_to_radian(this.theta));return t},e.exports=s},{}],7:[function(t,e,i){"use strict";var s=t("../object/boss"),h=t("../manager/bullet"),a=function(t){this.game=t,this.boss=new s(this,t),this.bulletmanager=new h(this,t)};a.prototype.EXTRA_OUT_OF_STAGE_SIZE=100,a.prototype.run=function(){this.boss.run(),this.bulletmanager.run()},a.prototype.updateDisplay=function(){this._showBackground(),this.boss.updateDisplay(),this.bulletmanager.updateDisplay()},a.prototype._showBackground=function(){this.game.surface.save(),this.game.surface.fillStyle="rgb(255, 255, 255)",this.game.surface.fillRect(0,0,this.game.width,this.game.height),this.game.surface.restore()},a.prototype.isOutOfStage=function(t){var e=t.x,i=t.y;return e+this.EXTRA_OUT_OF_STAGE_SIZE<0||i+this.EXTRA_OUT_OF_STAGE_SIZE<0||e>this.game.width+this.EXTRA_OUT_OF_STAGE_SIZE||i>this.game.height+this.EXTRA_OUT_OF_STAGE_SIZE},e.exports=a},{"../manager/bullet":4,"../object/boss":5}]},{},[3]);